<!-- Previous/next page links - only displayed on page 2+ -->
<div class="extra-pagination inner">
  {% if page.class == 'home-template' %}
  {% include post_pagination.html %}
  {% elsif page.class == 'page-template' %}
  {% include post_pagination.html %}
  {% elsif page.class == 'author-template' %}
  {% include author_pagination.html %}
  {% elsif page.class == 'tag-template' %}
  {% include tag_pagination.html %}
  {% else %}
  {% include post_pagination.html %}
  {% endif %}
</div>

<aside id="views">
  <h4 class="widget-title">热门文章</h4>
  <ul>
    <li><a href="{{ site.baseUrl }}/docker">Docker 核心技术与实现原理</a></li>
    <li><a href="{{ site.baseUrl }}/mvx">浅谈 MVC、MVP 和 MVVM 架构模式</a></li>
    <li><a href="{{ site.baseUrl }}/consensus">分布式一致性与共识算法</a></li>
    <li><a href="{{ site.baseUrl }}/mysql-innodb">『浅入浅出』MySQL 和 InnoDB</a></li>
    <li><a href="{{ site.baseUrl }}/mysql-transaction">『浅入深出』MySQL 中事务的实现</a></li>
    <li><a href="{{ site.baseUrl }}/database-concurrency-control">浅谈数据库并发控制 - 锁和 MVCC</a></li>
    <li><a href="{{ site.baseUrl }}/bigtable-leveldb">浅析 Bigtable 和 LevelDB 的实现</a></li>
    <li><a href="{{ site.baseUrl }}/graphql-microservice">GraphQL 在微服务架构中的实践</a></li>
    <li><a href="{{ site.baseUrl }}/sql-index-intro">MySQL 索引设计概要</a></li>
    <li><a href="{{ site.baseUrl }}/metaprogramming">谈元编程与表达能力</a></li>
  </ul>
</aside>

<!-- This is the post loop - each post will be output using this markup -->
<div id="posts">
  {% for post in paginator.posts %}
  <article class="post">
    <header class="post-header">
      <h2 class="post-title"><a href="{{ site.baseurl }}{{ post.url | remove: '/' }}">{{ post.title }}</a></h2>
    </header>
    <section class="post-excerpt">
      {% if post.desc %}
      <p>{{ post.desc }} <a class="read-more" href="{{ site.baseurl }}{{ post.url | remove: '/' }}">&raquo;</a></p>
      {% else %}
      <p>{{ post.content  | strip_html | truncatewords: 20 }} <a class="read-more" href="{{ site.baseurl }}{{ post.url | remove: '/' }}">&raquo;</a></p>
      {% endif %}
    </section>
    <footer class="post-meta">
      {% if site.image %}<img class="author-thumb" src="{{ site.baseurl }}{{ site.image }}" alt="Author image" nopin="nopin" />{% endif %}
      {% for tag in post.tags %}
      <a href='{{ site.baseurl }}tag/{{ tag }}'>{{ tag }}</a>
      {% else %}
      {% endfor %}
      <time class="post-date" datetime="{{ post.date | date:'%Y-%m-%d' }}">{{ post.date | date_to_string }}</time>
    </footer>
  </article>
  {% endfor %}
</div>

<!-- Previous/next page links - displayed on every page -->
{% if page.class == 'home-template' %}
{% include post_pagination.html %}
{% elsif page.class == 'page-template' %}
{% include post_pagination.html %}
{% elsif page.class == 'author-template' %}
{% include author_pagination.html %}
{% elsif page.class == 'tag-template' %}
{% include tag_pagination.html %}
{% else %}
{% include post_pagination.html %}
{% endif %}
